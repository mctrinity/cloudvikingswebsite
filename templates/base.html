<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>

     <!-- Favicon -->
     <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
    <!-- Link to the compiled CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/custom-bootstrap.css') }}">
    <!-- Font Awesome for social icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
        <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@700&display=swap">


    <!-- Holiday Themes -->
    <!-- <link rel="stylesheet" href="{{ url_for('static', filename='css/holidayThemes.css') }}"> -->

</head>
<body class="d-flex flex-column min-vh-100 loading">

    <!-- Snowflakes for the snowfall effect -->
    <div class="snowflake">❄️</div>
    <div class="snowflake">❄️</div>
    <div class="snowflake">❄️</div>
    <div class="snowflake">❄️</div>
    <div class="snowflake">❄️</div>
    <!-- Add more snowflake divs as needed for a denser effect -->

    <!-- Inline CSS for Snowflake Animation -->
    <style>
        /* Snowfall Effect */
        @keyframes snowfall {
            0% { transform: translateY(-100%); opacity: 0.8; }
            100% { transform: translateY(100vh); opacity: 0.1; }
        }

        /* General styling for snowflakes */
        .snowflake {
            position: absolute;
            top: 0;
            font-size: 1.5em;
            color: #fff;
            animation: snowfall linear infinite;
            opacity: 0.8;
        }

        /* Individual animation duration and delay for snowflakes */
        .snowflake:nth-child(1) { animation-duration: 15s; animation-delay: 0s; }
        .snowflake:nth-child(2) { animation-duration: 18s; animation-delay: 3s; }
        .snowflake:nth-child(3) { animation-duration: 22s; animation-delay: 6s; }
        .snowflake:nth-child(4) { animation-duration: 16s; animation-delay: 2s; }
        .snowflake:nth-child(5) { animation-duration: 20s; animation-delay: 5s; }
        .snowflake:nth-child(6) { animation-duration: 24s; animation-delay: 8s; }
        .snowflake:nth-child(7) { animation-duration: 19s; animation-delay: 1s; }
        .snowflake:nth-child(8) { animation-duration: 23s; animation-delay: 4s; }
        .snowflake:nth-child(9) { animation-duration: 21s; animation-delay: 7s; }
        .snowflake:nth-child(10) { animation-duration: 25s; animation-delay: 9s; }
    </style>

    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand custom-navbar-brand d-flex align-items-center" href="/">
                <div class="logo-container">
                    <img src="{{ url_for('static', filename='images/logo.gif') }}" alt="Cloud Vikings" class="logo-gif">
                </div>
                <div class="clan-name-container ms-2">
                    <span class="clan-name">Cloud Vikings ☁️</span>
                </div>
            </a>
            
            <button class="navbar-toggler ms-auto me-3" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample08" aria-controls="navbarsExample08" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse justify-content-end" id="navbarsExample08">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link {% if page == 'home' %}active{% endif %}" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if page == 'members' %}active{% endif %}" href="/members">Members</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if page == 'infohub' %}active{% endif %}" href="/widgets">Info Hub</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
   
    <!-- Main Content with Background and Flex for Centering -->
    <!-- <div class="container-fluid px-4 py-5 d-flex justify-content-center loading main-content"> -->
    <div class="container-fluid px-4 py-5 d-flex justify-content-center loading">
        <div class="w-100" style="max-width: 1200px;">
            {% block content %}{% endblock %}
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-light py-4 mt-auto">
        <div class="container-fluid">
        <div class="row">
            <!-- Social Links Section (Center) -->
            <div class="col-md-12 mb-3 text-center">
            <h5>Join Us</h5>
            <div class="social-icons-group">
                <a href="https://discord.gg/dPeHccdK8k" class="text-light"><i class="fab fa-discord"></i></a>
                <a href="https://link.clashofclans.com/en/?action=OpenClanProfile&tag=29G2P0YUC" class="text-light"><i class="fas fa-gamepad"></i></a>
            </div>
            </div>
        </div>
        
        <!-- Copyright Row -->
        <div class="row">
            <div class="col text-center">
            <p>&copy; {{ current_year }} Made with ❤️ for Cloud Vikings.</p>
            <p>All rights reserved.</p>
            <p class="disclaimer-text">
                This material is unofficial and is not endorsed by Supercell.
            </p>
            <p class="disclaimer-text">
                For more information, see 
                <a href="https://www.supercell.com/fan-content-policy/" class="text-light">Supercell's Fan Content Policy</a>.
            </p>
            
            </div>
        </div>
        </div>
    </footer>
  
      
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Hero transition -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const images = document.querySelectorAll('.hero-img');
            let currentIndex = 0;
            const fadeDuration = 1500; // 1.5 seconds for fade effect
            const displayDuration = 3000; // Time each image is displayed before fading out

            function showNextImage() {
                // Fade out the current image
                images[currentIndex].style.transition = `opacity ${fadeDuration}ms ease-in-out`;
                images[currentIndex].style.opacity = 0;

                // Wait for the fade-out to complete, then hide the image and show the next one
                setTimeout(() => {
                    images[currentIndex].style.visibility = 'hidden'; // Hide after fade-out

                    // Move to the next image
                    currentIndex = (currentIndex + 1) % images.length;

                    // Show the next image
                    images[currentIndex].style.visibility = 'visible'; // Make it visible before fading in
                    images[currentIndex].style.transition = `opacity ${fadeDuration}ms ease-in-out`;
                    images[currentIndex].style.opacity = 1;

                }, fadeDuration); // Wait for the fade-out to finish before fading in
            }

            // Start the image slider
            images[currentIndex].style.visibility = 'visible';
            images[currentIndex].style.opacity = 1;

            setInterval(showNextImage, displayDuration + fadeDuration); // Delay next change to allow for fade-in/fade-out
        });
    </script>

    <!-- <script src="{{ url_for('static', filename='js/holidayTheme.js') }}"></script> -->

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            document.body.classList.remove("loading"); // Remove the 'loading' class
            document.body.classList.add("loaded"); // Add the 'loaded' class
        });
    </script>

    <!-- Snowflakes script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Select all snowflakes
            const snowflakes = document.querySelectorAll('.snowflake');

            // Assign random left position to each snowflake
            snowflakes.forEach(snowflake => {
                const randomLeft = Math.floor(Math.random() * 100); // Generate random number between 0 and 100
                snowflake.style.left = `${randomLeft}vw`; // Set random left position
            });
        });
    </script>
    
</body>
</html>
